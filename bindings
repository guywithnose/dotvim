" vim: filetype=vim
" To sort bindings use <Leader>ex with cursor on next line
" execute "normal jj!ipsort -k2,2 -k1,1\<return>"

vnoremap < <gv
vnoremap > >gv
nnoremap _= :call trailingWhitespace#preserve("normal gg=G")<CR>
nnoremap & :&&<return>
xnoremap & :&&<return>
cnoremap %% <c-r>=fnameescape(expand('%:h')).'/'<return>
cnoremap <c-a> <Home>
nnoremap <c-c> "+yy
vnoremap <c-c> "+y
nnoremap <c-h> <c-w>h
nnoremap <c-j> <c-w>j
nnoremap <c-k> <c-w>k
nnoremap <c-l> <c-w>l
cnoremap <c-n> <down>
cnoremap <c-p> <up>
nnoremap <F5> :<c-u>silent nohlsearch<return><c-l>
inoremap  <Leader>' <c-o>:SyntasticToggleMode<return>
noremap   <Leader>' :<c-u>SyntasticToggleMode<return>
noremap   <Leader>a :NERDTreeToggle<return>
nmap      <Leader>efp :CtrlP %%<return>
nmap      <Leader>ecp :CtrlP getcwd()<return>
noremap   <Leader>ex :let oldSearch=@/<return>$?^"*.?e<return>"sy$:let @/=oldSearch<return>:<c-r>s<return>
inoremap  <Leader>gc <esc>:Gcommit<return>
noremap   <Leader>gc :<c-u>Gcommit<return>
inoremap  <Leader>gd <esc>:Gdiff<return>
noremap   <Leader>gd :<c-u>Gdiff<return>
inoremap  <Leader>ge <esc>:Gedit<return>
noremap   <Leader>ge :<c-u>Gedit<return>
inoremap  <Leader>gi <esc>:Git rebase --interactive upstream/master<return>
noremap   <Leader>gi :<c-u>Git rebase --interactive upstream/master<return>
inoremap  <Leader>gp <esc>:call PushCurrentBranch()<return>
noremap   <Leader>gp :<c-u>call PushCurrentBranch()<return>
inoremap  <Leader>gpf <esc>:call PushCurrentBranch(1)<return>
noremap   <Leader>gpf :<c-u>call PushCurrentBranch(1)<return>
inoremap  <Leader>gr <esc>:Git rebase upstream/master<return>
noremap   <Leader>gr :<c-u>Git rebase upstream/master<return>
inoremap  <Leader>gs <esc>:Gstatus<return>
noremap   <Leader>gs :<c-u>Gstatus<return>
noremap   <Leader>i :<c-u>call JumpFileForward()<return>
inoremap  <Leader>m <esc>:Dispatch<return>
noremap   <Leader>m :Dispatch<return>
inoremap  <Leader>o <esc>:call JumpFileBackward()<return>
noremap   <Leader>o :<c-u>call JumpFileBackward()<return>
noremap   <Leader>p :<c-u>EnableFastPHPFolds<return>
inoremap  <Leader>q <esc>:exit<return>
noremap   <Leader>q :exit<return>
noremap   <Leader>sh :SidewaysLeft<return>
noremap   <Leader>sl :SidewaysRight<return>
inoremap  <Leader>w <esc>:update<return>
noremap   <Leader>w :<c-u>update<return>
nmap '' cs"'
nmap "" cs'"
nmap <Leader>r :<c-u>Dispatch! xdotool key --window $(xdotool search --name "Mozilla") F5<return>

" Edit and source vimrc file
execute 'nnoremap <Leader>ev :tabnew ' . expand('<sfile>:h') . '/vimrc<return>:lcd ' . expand('<sfile>:h') . '<return>'
execute 'noremap <Leader>sv :<c-u>source ~/.vimrc<return>:source ' . expand('<sfile>:h') . '/plugin/loadLast.vim<return>'

" Sideways
omap aa <Plug>SidewaysArgumentTextobjA
xmap aa <Plug>SidewaysArgumentTextobjA
omap ia <Plug>SidewaysArgumentTextobjI
xmap ia <Plug>SidewaysArgumentTextobjI

" Remove deprecated Commentary bindings
silent! nunmap \\\
silent! nunmap \\u
silent! nunmap \\
silent! xunmap \\
